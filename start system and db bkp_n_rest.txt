-- quickly start BE
.\childsmile\myenv\Scripts\activate ;  python .\childsmile\manage.py runserver
python .\childsmile\manage.py shell
-- quickly start FE
cd .\childsmile\frontend\ ; npm start 

on macos
FE
cd /Users/shlomosmac/Applications/dev/FinalProjectOpenU/childsmile/frontend && npm start
BE
cd /Users/shlomosmac/Applications/dev/FinalProjectOpenU/childsmile && source myenv/bin/activate && python manage.py runserver

  git config --global user.email "shlezi0@gmail.com"
  git config --global user.name "shezio"

steps to db bkp and restore:
1. Backup the database
pg_dump -U child_smile_user -h localhost -p 5432 child_smile_db > backup_before_import_vols_20260202.sql


# clear cache of visual studio code all the rm -rf commands we tried since they were awesome and need them again
rm -rf ~/Library/Application\ Support/Code/Cache
rm -rf ~/Library/Application\ Support/Code/CachedData
rm -rf ~/Library/Application\ Support/Code/Code\ Cache

 - test data removal

ALTER TABLE childsmile_app_children 
  ALTER COLUMN when_completed_treatments TYPE VARCHAR(255),
  ALTER COLUMN expected_end_treatment_by_protocol TYPE VARCHAR(255);

ALTER TABLE childsmile_app_matures 
  ALTER COLUMN when_completed_treatments TYPE VARCHAR(255);
  
1: cleanup blockers of ui deletions
DELETE FROM audit_log;
DELETE FROM childsmile_app_tasks;
DELETE FROM childsmile_app_healthy;

2: then delete ALL from ui - tutorships, children, tutors, tasks
3: then from DB  - tables like PrevTutorshipStatuses, Prev
DELETE FROM childsmile_app_prevtaskstatuses;
DELETE FROM childsmile_app_prevtutorshipstatuses;
DELETE FROM childsmile_app_possiblematches;

4: import volunteers from excel מתנדבים מוכן לעלייה לפרוד.xlsx
5: import children from excel ילדים מוכן לעלייה לפרוד.xlsx
6: go to the beach and have fun :)

RESTORE:

1. psql -U shlomosmac -h localhost -p 5432 -d postgres

2. then run the following SQL commands when inside the postgres prompt:
DROP DATABASE IF EXISTS child_smile_db;
DROP OWNED BY child_smile_user CASCADE;
DROP ROLE IF EXISTS child_smile_user;
CREATE ROLE child_smile_user WITH LOGIN PASSWORD '0192pqowL@!';
CREATE DATABASE child_smile_db OWNER child_smile_user;
ALTER SCHEMA public OWNER TO child_smile_user;
GRANT USAGE, CREATE ON SCHEMA public TO child_smile_user;
ALTER ROLE child_smile_user SET search_path TO public;

3. finally, exit the psql prompt and run the restore command:
psql -U child_smile_user -h localhost -p 5432 -d child_smile_db < backup_before_import_vols_20260202.sql


\dT+  -- to see enums in psql
-- to see enum values
SELECT unnest(enum_range(NULL::marital_status)) AS enum_value;
