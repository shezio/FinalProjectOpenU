# הוראות הכנת נתוני מתנדבים לייבוא למערכת "חיוך של ילד"

## סיכום הנתונים

**קובץ מקור:** מתנדבים חיוך של ילד.xlsx  
**גיליון:** מתנדבים + חונכים  
**סה״כ רשומות:** 448 מתנדבים

---

## 🔴 חשוב מאוד - תהליך הרישום

### המערכת דורשת רישום ידני של כל מתנדב!

**לא ניתן לייבא נתונים ישירות לבסיס הנתונים.** כל מתנדב חייב להירשם דרך טופס הרישום באתר.

**תהליך הרישום למתנדב:**
1. המתנדב ממלא את טופס הרישום באתר
2. המערכת שולחת קוד אימות (TOTP) לאימייל של המתנדב
3. המתנדב מזין את קוד האימות
4. הרישום מאושר ונשמר במערכת

**משמעות:** יש לתאם עם כל מתנדב שהוא ימלא את הטופס ויאשר את קוד האימות. לחלופין, ניתן ליצור סקריפט שירשום את המתנדבים בצורה אוטומטית (דורש פיתוח נוסף).

---

## 📊 סיכום מצב הנתונים

| סוג התנדבות | כמות |
|-------------|------|
| התנדבות כללית | 200 |
| חונכות | 138 |
| עזב/ה | 110 |

| סטטוס | כמות |
|-------|------|
| (ריק) | 309 |
| ממתין לראיון | 87 |
| אין חניך | 28 |
| יש חניך | 24 |

---

## ⚠️ בעיות שצריך לתקן באקסל לפני הייבוא

### בעיה 1: מספרי טלפון חסרים את ה-0 בהתחלה (64 רשומות)

**הסבר:** חלק מהטלפונים נשמרו כמספר ולא כטקסט, אז ה-0 נעלם.

**דוגמה:**
- ❌ שגוי: `534323994` (9 ספרות)
- ✅ נכון: `0534323994` (10 ספרות)

**איך לתקן:**
1. פתחו את האקסל
2. לחצו על עמודה F (מספר טלפון)
3. לחצו על "עיצוב תאים" (Format Cells)
4. בחרו "טקסט" (Text)
5. עברו על כל הטלפונים עם 9 ספרות והוסיפו 0 בהתחלה

**או - נוסחה מהירה:**
1. הוסיפו עמודה חדשה G
2. בתא G2 כתבו: `=IF(LEN(F2)=9,"0"&F2,F2)`
3. גררו למטה לכל השורות
4. העתיקו את עמודה G והדביקו כ"ערכים בלבד" על עמודה F

---

### בעיה 2: חסר אימייל (16 רשומות)

**מה לעשות:** 
- חפשו את 16 המתנדבים ללא אימייל
- צרו איתם קשר וקבלו את האימייל
- או הוסיפו אימייל זמני כמו: `temp_שם@childsmile.org.il`

**איך למצוא אותם:**
1. סננו את עמודה G (מייל) לפי "ריקות"
2. רשמו את השמות
3. השלימו את האימייל

---

### בעיה 3: חסרה ת.ז (19 רשומות)

**מה לעשות:**
- צרו קשר עם המתנדבים וקבלו ת.ז
- ת.ז חייבת להיות 9 ספרות בדיוק

**איך למצוא אותם:**
1. סננו את עמודה E (תעודת זהות) לפי "ריקות"
2. רשמו את השמות
3. השלימו את הת.ז

---

### בעיה 4: תאריך לידה בפורמט שגוי (2 רשומות)

**הסבר:** חלק מהתאריכים נכתבו כמספר במקום כתאריך

**דוגמה:**
- ❌ שגוי: `16.0` או `20.0`
- ✅ נכון: `01/01/2008`

**מה לעשות:**
1. חפשו בעמודה C (תאריך לידה) ערכים שנראים כמו מספרים
2. תקנו אותם לתאריך מלא (יום/חודש/שנה)

---

### בעיה 5: חסר מין (3 רשומות)

**מה לעשות:**
1. סננו את עמודה B (מין) לפי "ריקות"
2. לפי השם - הוסיפו "זכר" או "נקבה"

---

## ✅ רשימת תיקונים לפני ייבוא

### שלב 1: תיקון פורמט הטלפון
- [ ] המירו את עמודת הטלפון לפורמט טקסט
- [ ] הוסיפו 0 בהתחלה לטלפונים עם 9 ספרות
- [ ] וודאו שכל הטלפונים הם 10 ספרות

### שלב 2: השלמת נתונים חסרים
- [ ] השלימו 16 כתובות אימייל חסרות
- [ ] השלימו 19 מספרי ת.ז חסרים
- [ ] השלימו 3 ערכי מין חסרים
- [ ] תקנו 2 תאריכי לידה שגויים

### שלב 3: ניקוי נתונים
- [ ] הסירו רווחים מיותרים בסוף שמות
- [ ] וודאו שכל הת.ז הן 9 ספרות
- [ ] וודאו שכל האימיילים תקינים (יש @)

### שלב 4: החלטה על ייבוא
- [ ] האם לייבא מתנדבים עם סטטוס "עזב/ה"? (110 רשומות)
- [ ] האם לייבא את כולם או רק חלק?

---

## 📋 התאמת עמודות למערכת

| עמודה באקסל | שדה במערכת | הערות |
|-------------|-----------|-------|
| שם מלא | שם פרטי (first_name) + שם משפחה (surname) | צריך לפצל לשני שדות |
| מין | מין (gender) | "נקבה" = True, "זכר" = False |
| גיל | גיל (age) | מספר שלם (13-100) |
| תעודת זהות | ת.ז (id) | ✅ קיים במערכת! 9 ספרות בדיוק |
| מספר טלפון | טלפון (phone) | 10 ספרות, מתחיל ב-05X |
| מייל | אימייל (email) | כתובת תקינה, **חייב להיות ייחודי** |
| עיר מגורים | עיר (city) | צריך לוודא שהעיר קיימת ברשימת הישובים |
| סוג התנדבות | רוצה להיות חונך (want_tutor) | "חונכות" = True, "כללית" = False |
| הערות המתנדב + הערות הרכז | הערות (comment) | טקסט חופשי |

---

## 🔄 המרת ערכים

### סוג התנדבות → want_tutor:
| באקסל | במערכת |
|--------|---------|
| חונכות | want_tutor = True |
| התנדבות כללית | want_tutor = False |
| עזב/ה | ❌ לא לרשום במערכת |

### מין → gender (בסיס נתונים):
| באקסל | במערכת |
|--------|---------|
| נקבה | gender = True |
| זכר | gender = False |

### סטטוס (לחונכים):
| באקסל | במערכת |
|--------|---------|
| ממתין לראיון | Pending_Tutor (ממתין לאישור) |
| יש חניך | Tutors עם tutorship_status = "יש_חניך" |
| אין חניך | Tutors עם tutorship_status = "אין_חניך" |

---

## 📝 שדות נדרשים לטופס הרישום

כל מתנדב חייב להירשם עם הפרטים הבאים:

1. **תעודת זהות (ת.ז)** - 9 ספרות בדיוק
2. **שם פרטי** - בעברית בלבד, ללא רווחים
3. **שם משפחה** - בעברית בלבד, ללא רווחים
4. **גיל** - מספר בין 13 ל-100
5. **מין** - זכר/נקבה
6. **טלפון** - מתחיל ב-050-059, 7 ספרות אחרי הקידומת
7. **עיר מגורים** - מהרשימה הקבועה
8. **אימייל** - כתובת תקינה וייחודית
9. **רוצה להיות חונך?** - כן/לא

---

## 📝 דוגמה לשורה מתוקנת

**מהאקסל:**
```
שם מלא: אליה ברנס 
מין: זכר
תאריך לידה: 2007-09-12
גיל: 18
ת.ז: 216980144.0
טלפון: 0553044286
מייל: eliyabaranes11@gmail.com
עיר: יד בנימין
סוג: חונכות
סטטוס: יש חניך
```

**לטופס הרישום:**
```
ת.ז: 216980144 (בלי הנקודה והאפס)
שם פרטי: אליה
שם משפחה: ברנס
גיל: 18
מין: זכר
טלפון: 055-3044286 (קידומת + 7 ספרות)
עיר: יד בנימין
מייל: eliyabaranes11@gmail.com
רוצה להיות חונך: כן
```

---

## 🔐 תהליך הרישום - שלב אחר שלב

### עבור כל מתנדב מהרשימה:

1. **כניסה לדף הרישום**
   - כתובת: [הכניסו כאן את כתובת האתר]/registration

2. **מילוי הטופס**
   - הזינו את כל הפרטים מהאקסל לפי הטבלה למעלה
   - וודאו שהת.ז נכונה (9 ספרות)
   - וודאו שהאימייל תקין

3. **שליחת הטופס**
   - לחצו על כפתור "הרשמה"
   - המערכת תשלח קוד אימות לאימייל של המתנדב

4. **אימות האימייל**
   - **שימו לב!** המתנדב צריך לפתוח את האימייל שלו ולהעתיק את הקוד
   - הזינו את הקוד בדף האימות
   - הרישום יאושר

5. **הערות וסטטוס**
   - אחרי הרישום, ניתן לעדכן הערות וסטטוס מדף ניהול המתנדבים/חונכים

---

## ❓ שאלות לבירור

1. **האם לרשום מתנדבים שעזבו?**
   - יש 110 מתנדבים עם סטטוס "עזב/ה"
   - **המלצה:** לא לרשום אותם כרגע

2. **מה עם חונכים שממתינים לראיון?**
   - יש 87 חונכים בסטטוס "ממתין לראיון"
   - יירשמו עם want_tutor = True (רוצה להיות חונך)
   - יופיעו כ-Pending_Tutor במערכת

3. **מה עם מתנדבים ללא אימייל?**
   - יש 16 מתנדבים בלי אימייל
   - **חובה** להשיג את האימייל כי הוא משמש גם לאימות וגם להתחברות

4. **מה עם כפילויות אימייל?**
   - כל אימייל חייב להיות ייחודי במערכת
   - אם יש מתנדב עם אותו אימייל - הרישום ייכשל

---

## 📞 סיכום והמשך

### מה צריך לעשות עכשיו:

1. ✅ **תיקון הנתונים באקסל** - לפי ההוראות למעלה
2. ✅ **השלמת נתונים חסרים** - אימייל, ת.ז, מין
3. ⏳ **רישום ידני** - כל מתנדב דרך טופס הרישום + אימות TOTP

### אפשרויות חלופיות:

אם יש צורך לייבא כמות גדולה של מתנדבים בלי לעבור את תהליך הרישום הרגיל, ניתן לפתח סקריפט מיוחד שיכניס את הנתונים ישירות לבסיס הנתונים. **דבר זה דורש פיתוח נוסף ואישור.**

---

**נכתב עבור עמותת "חיוך של ילד"**
